\documentclass[a4paper,twoside,12pt]{memoir}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[margin=2.5cm]{geometry}
\usepackage{arara}

\addbibresource{references.bib}
\newcommand{\araraversion}{4.0}
\newcommand{\todo}[1]{\fbox{\em#1}}

\begin{document}

\begin{titlingpage}
\vspace*{2em}

\begin{center}
\includegraphics[scale=0.7]{../logos/logo2.pdf}

\vspace{4em}

\begin{tcolorbox}[
  boxrule=0pt,
  colback=araracolour,
  top=1em,
  bottom=1em
]
  \color{white}
  \centering
  \Huge
  \sffamily
  \bfseries User manual
\end{tcolorbox}

\vspace{6em}

{\large\em Paulo Cereda, Marco Daniel,\\ Brent Longborough, and Nicola Talbot\par}

\vspace{2em}

\url{https://github.com/cereda/arara}

\vfill

{\color{araracolour}
\LARGE
\sffamily
\bfseries
Version \araraversion}

\end{center}
\end{titlingpage}

\chapterstyle{araraheadings}
\pagestyle{headings}
\frontmatter
\nouppercaseheads

\cleardoublepage

\vspace*{25em}

\begin{flushright}
\em No birds were harmed in the making of this manual.
\end{flushright}

\chapter*{Foreword}
\label{chap:foreword}

\epigraph{That deserves no less than a ``Holy guacamole!''.}{\textsc{Gonzalo Medina}}

\emph{Foreword here.}

\vfill

\begin{flushright}
Nicola Louise Cecilia Talbot\\
\emph{on behalf of the \arara\ team}
\end{flushright}

\chapter*{Prologue}
\label{chap:prologue}

\epigraph{Moral of the story: never read the documentation, bad things happen.}{\textsc{David Carlisle}}

\emph{Prologue here.}

\vfill

\begin{flushright}
Paulo Roberto Massa Cereda\\
\emph{on behalf of the \arara\ team}
\end{flushright}

\chapter*{Release information}
\label{chap:releaseinformation}

\epigraph{Are there programming languages other than \TeX?}{\textsc{Enrico Gregorio}}

\emph{Release information here}

\chapter*{License}
\label{chap:license}

\epigraph{Anything that prevents you from being friendly, a good neighbour, is a terror tactic.}{\textsc{Richard Stallman}}

\arara\ is licensed under the \href{http://www.opensource.org/licenses/bsd-license.php}{New BSD License}. It is important to observe that the New BSD License has been verified as a GPL-compatible free software license by the \href{http://www.fsf.org/}{Free Software Foundation}, and has been vetted as an open source license by the \href{http://www.opensource.org/}{Open Source Initiative}.

\vfill

\begin{messagebox}{New BSD License}{araracolour}{\icinfo}{white}
\includegraphics[scale=0.25]{../logos/logo1.pdf}

\vspace{1em}

Copyright \textcopyright\ 2012--2018, Paulo Roberto Massa Cereda

All rights reserved.

\vspace{1em}

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

\begin{itemize}
\item Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
\item Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
\end{itemize}

This software is provided by the copyright holders and contributors ``as is'' and any express or implied warranties, including, but not limited to, the implied warranties of merchantability and fitness for a particular purpose are disclaimed. In no event shall the copyright holder or contributors be liable for any direct, indirect, incidental, special, exemplary, or consequential damages (including, but not limited to, procurement of substitute goods or services; loss of use, data, or profits; or business interruption) however caused and on any theory of liability, whether in contract, strict liability, or tort (including negligence or otherwise) arising in any way out of the use of this software, even if advised of the possibility of such damage.
\end{messagebox}

\cleardoublepage

\vspace*{25em}

\begin{flushright}
\em To Marco's son Niclas.
\end{flushright}

\cleardoublepage

\tableofcontents*

\cleardoublepage

\listoffigures*

\cleardoublepage

\listoftables*

\mainmatter

\part{The application}
\label{part:application}

\chapter{Introduction}
\label{chap:introduction}

Hello there, welcome to \arara! I am glad you were not
intimidated by the threatening message in the prologue.
This chapter is actually a quick introduction to what
you can (and cannot) expect from \arara. Do not be
afraid, it will be easy to digest, I promise.

\section{What is this tool?}
\label{sec:whatisarara}

Good question! \arara\ is a \TeX\ automation tool based
on rules and directives. It is, in some aspects, similar
to other well-known tools like \verb|latexmk| and
\verb|rubber|. The key difference might be the fact that
\arara\ aims at explicit instructions in the source code
in order to determine what to do instead of relying on
other resources, such as log file analysis. It is a
different approach for an automation tool, and we have
both advantages and disadvantages of such design.
Let us talk about disadvantages first.

Since we need to explicitly tell \arara\ what we want it
to do, it might not be intuitive for casual users. Tools
like \verb|latexmk| and \verb|rubber| rely on a analysis
scheme in which the document is generated with a simple
call to

\begin{codebox}{Terminal}{teal}{\icnote}{white}
$ latexmk -pdf mydoc.tex
$ rubber --pdf mydoc.tex
\end{codebox}

\noindent while a similar call to our beloved tool does absolutely nothing:

\begin{codebox}{Terminal}{teal}{\icnote}{white}
$ arara mydoc.tex
  __ _ _ __ __ _ _ __ __ _ 
 / _` | '__/ _` | '__/ _` |
| (_| | | | (_| | | | (_| |
 \__,_|_|  \__,_|_|  \__,_|

Processing 'mydoc.tex' (size: 69 bytes, last modified: 04/14/2018
14:08:45), please wait.

It looks like no directives were found in the provided file. Make
sure to include at least one directive and try again.

Total: 0.00 seconds
\end{codebox}

%it's not wrong, it's by design:
%\arara needs to know what you want. We do this by adding a directive in our |.tex| file, as shown
%in line~1 of Code~\ref{code:hellolatex}. Don't worry with the terms now, we will come back to the
%concepts later on in this manual, in Chapter~\ref{chap:importantconcepts}.
%
%\begin{code}[htbp]
%\caption{\mycmd{mydoc.tex}}
%\label{code:hellolatex}
%\begin{latex}
%% (*@@*)arara: pdflatex
%\documentclass{article}
%
%\begin{document}
%Hello world.
%\end{document}
%\end{latex}
%\end{code}
%

%\emph{Here comes the manual.}

\end{document}
