% !TeX root = ../arara-manual.tex
\chapter{Configuration file}
\label{chap:configurationfile}

\arara\ provides a persistent model of modifying the underlying execution behaviour or enhance the execution workflow through the concept of a configuration file. This chapter provides the basic structure of such file, as well as details on the file lookup in the operating system.

\section{File lookup}
\label{sec:filelookup}

Our tool looks for the presence of at least one of four very specific files before execution. These files are presented as follows. Observe that the directories must have the correct permissions for proper lookup and access. The lookup order is also presented.

\vspace{1em}

{\centering
\begin{tabular}{cccc}
{\footnotesize\textit{attempt 1}} &
{\footnotesize\textit{attempt 2}} &
{\footnotesize\textit{attempt 3}} &
{\footnotesize\textit{attempt 4}} \\
\rbox{.araraconfig.yaml} &
\rbox{araraconfig.yaml} &
\rbox{.arararc.yaml} &
\rbox{arararc.yaml}
\end{tabular}
\par}

\vspace{1.4em}

From version 4.0 on, \arara\ provides two approaches regarding the location of a configuration file. They dictate how the execution should behave and happen from a user perspective, and are described as follows.

\begin{description}
\item[global configuration file] For this approach, the configuration file should be located at \abox[araracolour]{USER\_HOME} which is the home directory of the current user. All subsequent executions of \arara\ will read this configuration file and apply the specified settings accordingly. However, it is important to note that this approach has the lowest lookup priority, which means that a local configuration, presented as follows, will always supersede a global counterpart.

\item[local configuration file] For this approach, the configuration file should be located at \abox[araracolour]{USER\_DIR} which is the working directory associated with the current execution. Such directory can also be interpreted as the one relative to the processed file. This approach offers a project-based solution for complex workflows, e.g, a thesis or a book. However, \arara\ must be executed within the working directory, or the local configuration file lookup will fail. Observe that this approach has the highest lookup priority, which means that it will always supersede a global configuration.
\end{description}

\begin{messagebox}{Beware of empty configuration files}{attentioncolour}{\icattention}{black}
A configuration file should never be empty, otherwise \arara\ will complain about it. Make sure to populate it with at least one key, or do not write a configuration file at all. The available options are described in Section~\ref{foo}, page~\pageref{foo}.
\end{messagebox}

% see which CF is used: log file

%\begin{codebox}{Terminal}{teal}{\icnote}{white}
%\end{codebox}

%\begin{ncodebox}{Source file}{teal}{\icnote}{white}{}
%\end{ncodebox}

%\begin{messagebox}{}{araracolour}{\icok}{white}
%\end{messagebox}
